{"version":3,"sources":["scripts.js"],"names":["classToggl","trgt","TOGGLE_TIMEOUT","addClass","setInterval","removeClass","colrLikn","menu","each","currPage","window","location","currQuery","addr","$","this","attr","result","match","closest","first","eq","emphasisTel","element","icon","exp","text","newexp","replace","newexp2","html","accordeonPrice","on","e","preventDefault","$this","item","list","content","find","arrow","duration","hasClass","stop","slideUp","slideDown","changeDots","elem","i","length","commaVal","innerText","newVal","fadeBg","thisImage","wrapper","otherImages","removeFade","Images","scrollArr","arr","animate","scrollTop","hideScroll","fadeOut","fadeIn","hideArr","width","hide","off","sendMail","ajax","url","type","data","serialize","success","msg","modal","not","val","alert","currLoc","hash","column4","document","querySelectorAll","column7","column13","column10"],"mappings":"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","file":"scripts.js","sourcesContent":["\n/**\n* Функция выделения соответствующего заголовка в прайсе\n* при попадании с определенной ссылки\n* @param  {Element} trgt [для какого элемента]\n*/\nfunction classToggl(trgt) {\n  var TOGGLE_TIMEOUT = 870;\n\n  trgt.addClass('active');\n  setInterval(function(){\n    trgt.removeClass('active');\n  }, TOGGLE_TIMEOUT);\n}\n\n/**\n * Функция подсвечивания сылок при наведении\n * @param  {Element} menu [блок меню с ссылками]\n */\nfunction colrLikn(menu) {\n  menu.each(function() {\n    var currPage = (window.location.href),//.substr(1)\n        currQuery = (window.location.search),\n        addr = $(this).attr('href');\n\n    var result = currQuery.match( /product/ );\n\n    if(currPage === addr) {\n      $(this).addClass('active');\n      $(this).closest('li').addClass('active');\n    } else if (currQuery === \"\") {\n      menu.first().addClass('active');\n      menu.first().closest('li').addClass('active');\n    }else if (result){\n      menu.eq(1).addClass('active');\n      menu.eq(1).closest('li').addClass('active');\n    }\n  });\n}\n\n/**\n * Функция окраски элемета в красный цвет и назначения класса\n * @param  {Element} element [окрашиваемы элемент]\n * @param  {String} icon     [служебный класс]\n */\nfunction emphasisTel(element, icon) {\n  var exp = element.text();\n  var newexp = exp.replace(' (', ' <span class=\"red-empasis\">(');\n  var newexp2 =  newexp.replace(') ', ')</span> ');\n  element.html('<i class=\"icon' + icon + '\"></i>' + newexp2);\n}\n\n/**\n * Функция создания аккордеона из пунктов прайса\n * @return {[type]} [description]\n */\nfunction accordeonPrice() {\n  $('.accordeon__trigger').on('click', function(e) {\n    e.preventDefault();\n    var $this = $(this),\n      item = $this.closest('.accordeon__item'),\n      list = $this.closest('.accordeon__list'),\n      items = list.find('.accordeon__item'),\n      content = item.find('.accordeon__inner'),\n      otherContent = list.find('.accordeon__inner'),\n      arrow = item.find('.accordeon__trigger');\n      duration = 500;\n\n      if(!item.hasClass('active')) {\n        item.addClass('active');\n        arrow.addClass('arrow-active');\n\n        //otherContent.stop(true, true).slideUp(duration); первое true\n        // очистит всю последующую очередь, второе - текущая анимация сразу завершится\n        content.slideDown(duration);\n      } else {\n        content.stop(true, true).slideUp(duration);\n        item.removeClass('active');\n        arrow.removeClass('arrow-active');\n      }\n  });\n}\n\n/**\n * Функция замены точек на запятые в прайсе\n * @param  {Element} elem [элемент, содежащий точку]\n */\nfunction changeDots(elem){\n  for(var i=0; i < elem.length; i++){\n    var commaVal = elem[i].innerText;\n    var newVal = commaVal.replace(/\\./, ',');\n    elem[i].innerText = newVal;\n  }\n}\n\n/**\n * Функция смены класса при движении курсором над баннерами\n */\nfunction fadeBg() {\n  var thisImage = $(this);\n  var wrapper = thisImage.closest('.main-content__banner');\n  var otherImages = wrapper.find('.plant-link-image');\n  otherImages.addClass('plant-link-image--active');\n  thisImage.removeClass('plant-link-image--active');\n}\n\n/**\n * Функция удаления класса при выходе из зоны баннеров\n */\nfunction removeFade() {\n  var Images = $(this).find('.plant-link-image');\n  Images.removeClass('plant-link-image--active');\n}\n\n/**\n * Функция прокрутки наверх при нажатии на стрелку\n * @param  {Element} arr [элемент стрелки]\n */\nfunction scrollArr(arr) {\n  arr.on('click', function(e) {\n    e.preventDefault();\n    $('html, body').animate({\n       scrollTop: 0\n    }, 1000);\n  });\n}\n\n/**\n * Функция скрытия/показа стрелки при прокрутке\n * @param  {Element} arr [элемент стрелки]\n */\nfunction hideScroll(arr) {\n   $(window).on('scroll', function() {\n    if( $(this).scrollTop() < 400) {\n    arr.fadeOut();\n  } else\n    arr.fadeIn();\n  });\n}\n\n/**\n * Функция удаления стрелки на мобильных устройствах\n * @param  {Element} arr [элемент стрелки]\n */\nfunction hideArr(arr) {\n  if($(window).width() < 768) {\n    arr.hide();\n    $(window).off('scroll');\n  }else {\n    hideScroll(arr);\n  }\n}\n\n/**\n * Функция отправки писем через ajax\n */\nfunction sendMail() {\n  $('#form').on('submit', function(e) {\n     e.preventDefault();\n     $.ajax({\n      url: 'send.php',\n      type: 'POST',\n      data: $(this).serialize(),\n      success: function(msg){\n      if(msg == 'ok') {\n        $('#myModal').modal();\n        $('input, textarea').not(':input[type=file], :input[type=submit]').val('');\n      } else {\n          alert('Не удалось отправить. Обратитесь к администратору');\n        }\n       }\n     });\n   });\n}\n\n/*********************************************************************/\n/**********************  При загрузке страницы **********************/\n/********************************************************************/\n\n$(function() {\n\n  /**\n   * Меняем цвет заголовка в прайсе\n   */\n  var currLoc =  window.location.hash;\n  if (currLoc === '#hleb') {\n    classToggl($('#hleb'));\n  } else if (currLoc === '#cond') {\n    classToggl($('#cond'));\n  }\n\n  /**\n   * Меняем цвет ссылок в хедере и футере\n   */\n  colrLikn($('.navbar-header a'));\n  colrLikn($('.navbar-footer a'));\n\n  /**\n   * Выделяем в красный\n   */\n  emphasisTel($('.top-header__phones'), 'icon-tel-h');\n  emphasisTel($('.footer-bottom__phones'), 'icon-tel-f');\n\n  /**\n   * Вызываем аккордеон-меню для прайса\n   */\n  accordeonPrice();\n\n  /**\n   * Меняем точки на зяпятые\n   */\n  var column4 = document.querySelectorAll('.column4');\n  var column7 = document.querySelectorAll('.column7');\n  var column13 = document.querySelectorAll('.column13');\n  var column10 = document.querySelectorAll('.column10');\n\n  changeDots(column4);\n  changeDots(column7);\n  changeDots(column13);\n  changeDots(column10);\n\n  /**\n   * Меняем затемнение при движении мыши\n   */\n  $('.plant-link-image').on('mouseenter mouseleave', fadeBg);\n  /**\n   * удаляем затемнение при выходе\n   */\n  $('.plant-links').on('mouseout', removeFade);\n\n  /**\n   * Инизиализируем прокрутку стрелкой вверх\n   */\n  var arrow = $('.arrow-up');\n  scrollArr(arrow);\n  hideScroll(arrow);\n  hideArr(arrow);\n\n  /**\n   * Инициализируем отправку писем\n   */\n  sendMail();\n\n});\n\n$(window).on('resize', function() {\n  var arrow = $('.arrow-up');\n  hideArr(arrow);\n});\n\n"]}